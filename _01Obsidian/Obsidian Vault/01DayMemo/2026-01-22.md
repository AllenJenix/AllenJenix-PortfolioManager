# 🛠️ Portfolio Manager Project Log

## 📅 Last Updated: 2026-01-22
## 📂 System Architecture (Data Pipeline)
1. **00Transaction_History.csv**: 원천 거래 데이터 (Raw Data)
2. **01Asset_Summary.csv**: 자산 기준점 데이터 (Anchor)
3. **02Portfolio_Holdings.csv**: 1차 정제된 보유 현황 데이터 (Processed)

## 🛠️ Development Log (금일 개발 요약)
- [x] **Feature**: 신한 SOL증권 HTS 특유의 복합 구조(2행 9열) 파싱 엔진 개발
- [x] **Feature**: 데이터 무결성 확보를 위한 텍스트 전처리(인코딩 해결 및 노이즈 제거) 로직 구현
- [x] **Logic**: 현재 잔고와 거래 이력을 대조하여 2025.01.01 기준 기초 보유 수량 역산 로직 설계
- [x] **Visualization**: 정제된 데이터를 활용한 기초 수익률 라인 차트 및 종목 비중 도넛 차트 프로토타입 생성

## 🚀 Technical Achievement (개발 성과 KPI)
| 항목 | 상태/수치 | 비고 |
| :--- | :--- | :--- |
| **데이터 정밀도** | **수동 검증 완료** | 텍스트 노이즈 제거 후 순수 종목 데이터 추출 성공 |
| **로직 완성도** | **파싱 엔진 구축** | 비정형 HTS 리포트의 정형화 프로세스 정립 |
| **자동화 수준** | **초기 단계** | 데이터 로드 및 파싱 자동화 (CLI 기반) |
| **시스템 커버리지** | **현 시점 데이터** | 전체 타임라인 구축을 위한 기초 데이터 확보 |

## 💡 Engineering Insights (기술적 통찰)
- **비정형 데이터의 구조화**: 증권사 리포트의 인간 친화적(2행 구조) 레이아웃은 기계적인 분석을 방해함. 이를 `DataFrame`으로 재구성할 때 인덱스 슬라이싱을 활용한 'Chunk 단위 처리' 방식이 유효함을 확인.
- **예외 처리 전략**: CP949와 UTF-8 사이의 인코딩 충돌과 리포트 하단의 안내 문구 등 데이터 외적인 노이즈를 프로그래밍적으로 격리하여 데이터 파이프라인의 안정성을 높임.

## 📝 Financial Commentary & Notes (기타 사견)
- **시스템 출력값**: 주식 평가액 기준 단순 수익률 약 +15.4% 산출.
- **종목/전략 메모**: 타이드워터(TDW)에 대한 비중 쏠림 현상 관찰. 리스크 분석 모듈에서 이를 수치화할 필요가 있음.
- **기타 사견**: 현재 시스템에는 현금 및 RP 잔고가 반영되지 않아 실제 순자산과 오차가 발생함. 다음 스프린트에서 이를 반드시 해결해야 함.

## ⏭️ Next Sprint (향후 개발 과제)
- [ ] **자산 통합**: 누락된 현금(RP) 데이터를 찾아 시스템에 통합
- [ ] **일별 원장 엔진**: 월간 요약 데이터를 일별 단위로 확장하는 보간 로직 설계